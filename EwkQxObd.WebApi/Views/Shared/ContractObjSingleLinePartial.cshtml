@model Vinlks


<td>
    @{
        string linkIcon = Model.NetworkId == null ? "fa-link-slash" : "fa-link";
        string btnColor = Model.NetworkId == null ? "btn-danger" : "btn-primary";
        string networkId = Model.NetworkId == null ? "???" : Model.NetworkId.Value.ToString();
        string disabled = Model.NetworkId == null ? "disabled" : string.Empty;
        string IqxSys = Model.System ?? "???";
    }
    <a class="btn @btnColor font-monospace w-100 @disabled" asp-controller="Syngio" asp-action="NetworkDetail"
       asp-route-System="@Model.System" asp-route-NetworkId="@Model.NetworkId">
        <div class="col text-start">
            <i class="fa-solid @linkIcon"></i>
            @IqxSys-@networkId
        </div>
    </a>
</td>


<td>
    <a class="btn @btnColor font-monospace w-100" asp-controller="ContractObject" asp-action="Detail"
       asp-route-ContractObjectId="@Model.ContractObjId">
        <div class="col text-center">
            @Model.SerialNumber
        </div>
    </a>
</td>

<td>
    @if (Model.IsMissingContract)
    {
        <div class="align-content-center text-start">

            <i class="fa-solid fa-file-contract fa-2xl"></i>
            <span class="text-danger"><i class="fa-solid fa-ban"></i></span>
        </div>
    }
    else
    {
        <a class="btn btn-outline-dark border-2 font-monospace w-100" asp-controller="ContractObject" asp-action="ByContract" asp-route-ContractNumber="@Model.ContractNumber">@Model.ContractNumber</a>
    }
    

</td>

<td>
    @{
        string fa_icon = Model.ExpireStyle > 0 ? "fa-check-circle" : "fa-circle-exclamation";
        string text_bg = string.Empty;

        switch (Model.ExpireStyle)
        {
            case 0:
                text_bg = "text-bg-danger";
                break;
            case 1:
                text_bg = "text-warning-emphasis";
                break;
            case 2:
                text_bg = "text-bg-warning";
                break;
            case 3:
                text_bg = "text-bg-success";
                break;
        }

    }
    <p class="@text_bg text-center rounded-5"><i class="fa @fa_icon"></i> @Model.ExpiresIn</p>
</td>

<td>
    @if (Model.IsMissingOrgSync)
    {
        <i class="fa fa-square text-danger"></i>
    }
    else
    {
        <i class="fa fa-square-check"></i>
    }
    @if (Model.IsMissingSystem)
    {
        <i class="fa fa-square text-danger"></i>
    }
    else
    {
        <i class="fa fa-square-check"></i>
    }
    @if (Model.IsMissingNetwork)
    {
        <i class="fa fa-square text-danger"></i>
    }
    else
    {
        <i class="fa fa-square-check"></i>
    }
     <br />
    @if (Model.IsMissingContract)
    {
        <i class="fa fa-square text-danger"></i>
    }
    else
    {
        <i class="fa fa-square-check"></i>
    }
    @if (Model.IsMissingDblink)
    {
        <i class="fa fa-square text-danger"></i>
    }
    else
    {
        <i class="fa fa-square-check"></i>
    }
</td>
<td>@Model.Description</td>

<td>@Model.InstrumentType</td>

<td class="align-content-start">
    @if (Model.IsMissingDblink || Model.IsMissingSystem)
    {
        <div class="w-100 text-danger text-start">
            <i class="fa-solid fa-link-slash"></i>
            @Model.ShipToId | @Model.ShipToName
        </div>
    }
    else if (Model.IsMissingOrgSync)
    {
        <a class="btn btn-danger border-warning border-2 font-monospace w-100">@Model.LinkedAccount</a>
    }
    else
    {

        <a class="btn btn-outline-dark border-2 font-monospace w-100 text-start">
            @Model.AccountNumber | @Model.AccountName
        </a>
    }
</td>

